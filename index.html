<!DOCTYPE html>
<html>
  <head>
    <title>JS form</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="index.css" />
    <script>
      let array = [
        {
          id: 100,
          name: "Shaheen",
          email: "shaheen@tapflow.app",
          password: "012345678",
        },
        {
          id: 101,
          name: "Yasmin",
          email: "yasmin@tapflow.app",
          password: "ABCDEFGHIJK",
        },
        {
          id: 102,
          name: "ahmad",
          email: "ahmad@tapflow.app",
          password: "a1b2c3d4e5",
        },
        {
          id: 103,
          name: "hamzah",
          email: "hamzah@tapflow.app",
          password: "000000000",
        },
      ];

      // Use this link for the laoding: https://upload.wikimedia.org/wikipedia/commons/a/ad/YouTube_loading_symbol_3_%28transparent%29.gif?20140201131911
      function checkUser() {
        console.log("checekd");
        var img = document.createElement("img");
        img.src =
          "https://upload.wikimedia.org/wikipedia/commons/a/ad/YouTube_loading_symbol_3_%28transparent%29.gif?20140201131911";
        document.getElementById("loadingBTN").append(img);
        document.getElementById("loadingBTN").setAttribute("disabled", true);

        let email = document.getElementById("email").value;
        let emailExists = false;
        for (let i = 0; i < array.length; i++) {
          if (array[i].email == email) {
            emailExists = true;
          }
        }
        if (!emailExists) {
          setTimeout(() => {
            document.getElementById("errorMSG").innerHTML =
              "user doesn't exist";
            document
              .getElementById("loadingBTN")
              .setAttribute("disabled", false);
            document.getElementById("loadingBTN").innerHTML = "Login";
          }, 1500);
        } else {
        }
      }
    </script>
  </head>
  <body>
    <div class="container-fluid header">
      <div class="row">
        <div class="col-12">
          <img src="Logo.svg" class="logo" />
        </div>
      </div>
    </div>
    <div class="container-fluid formSection">
      <div class="row">
        <div class="col-12">
          <div class="whiteForm">
            <div class="row">
              <div class="col-12">
                <h1 class="fromTitle">Login form</h1>
              </div>
              <div class="col-12 inputCol">
                <label class="label">Email</label>
                <input
                  type="email"
                  class="input"
                  placeholder="Example@example.com"
                  id="email"
                />
              </div>
              <div class="col-12 inputCol">
                <label class="label">Password</label>
                <input
                  type="password"
                  class="input"
                  placeholder="Minimum 8 Characters"
                  id="password"
                />
              </div>
              <div class="col-12 inputCol">
                <label class="label"
                  ><strong>SECURITY TEST.</strong> What are the characters in
                  the image below?</label
                >
                <img src="code.png" class="img-fluid codeIMG" />
                <input type="text" class="input" id="code" />
              </div>
              <div class="col-12 inputCol">
                <p class="errorMSG" id="errorMSG"></p>
                <p class="successMSG" id="successMSG"></p>
              </div>
              <div class="col-2">
                <button
                  class="orangeSubmit"
                  id="loadingBTN"
                  onclick="checkUser()"
                >
                  Login
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
